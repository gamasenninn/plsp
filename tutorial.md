# plsp: Pythonで実装された簡単なLispインタプリタ

plspは、簡単なLispインタプリタで、基本的なリスト操作、関数定義、およびチューリング完全性が提供されています。

## インタプリタの実行方法
- Pythonファイルとしてプログラムを保存します（例: plsp.py）
- ターミナルまたはコマンドプロンプトでファイルを実行します: python plsp.py
- プロンプトが表示されたら、Lisp式を入力して評価します。

## 基本的な操作

以下に、plspで利用できる基本的な操作の例を示します。

### 数値演算
```
(+ 2 3) ; 2 + 3 = 5 を出力
(- 10 4) ; 10 - 4 = 6 を出力
(* 3 4) ; 3 * 4 = 12 を出力
(/ 9 3) ; 9 / 3 = 3 を出力
```

### 比較演算
```
(< 2 3) ; 2 < 3 は真であるため、#t を出力
(> 5 3) ; 5 > 3 は真であるため、#t を出力
(= 4 4) ; 4 = 4 は真であるため、#t を出力
```

### 変数定義
```
(define x 10) ; x という変数に 10 を割り当てる
(define y 20) ; y という変数に 20 を割り当てる
(+ x y) ; 10 + 20 = 30 を出力
```

### ラムダ関数
```
((lambda (x y) (+ x y)) 3 4) ; 3 + 4 = 7 を出力
(define add (lambda (x y) (+ x y))) ; add ラムダ関数を定義
(add 8 2) ; 8 + 2 = 10 を出力
```

### 条件分岐 (if)
```
(if (< 3 4) 1 0) ; 3 < 4 は真であるため、1 を出力
(if (> 10 20) 1 0) ; 10 > 20 は偽であるため、0 を出力
```

### リスト操作

plspでは、基本的なリスト操作もサポートされています。以下にいくつかの例を示します。

### car、cdr、cons
```
(car (list 1 2 3)) ; 1 を出力
(cdr (list 1 2 3)) ; (2 3) を出力
(cons 1 (list 2 3)) ; (1 2 3) を出力
```

### append、length、map
```
(append (list 1 2 3) (list 4 5 6)) ; (1 2 3 4 5 6) を出力
(length (list 1 2 3)) ; 3 を出力
(map (lambda (x) (* x 2)) (list 1 2 3)) ; (2 4 6) を出力
```

### 条件演算子 (not, and, or)

plspでは、条件演算子もサポートされています。以下にいくつかの例を示します。

----- ここまで　テスト　-----　#tはうまく動かない
### not
```
(not #t) ; #f を出力
(not #f) ; #t を出力
```
### and, or

plspには、直接的な and および or 演算子がないため、これらの演算子は if を使用して実装できます。
``` 
; and
(define (my-and a b) (if a (if b #t #f) #f))
(my-and #t #t) ; #t を出力
(my-and #t #f) ; #f を出力

; or
(define (my-or a b) (if a #t (if b #t #f)))
(my-or #f #t) ; #t を出力
(my-or #f #f) ; #f を出力
```

### 再帰関数

plspは再帰関数もサポートしています。以下に、階乗関数とフィボナッチ数列の例を示します。

### 階乗関数
```
(define (factorial n)
  (if (= n 0)
      1
      (* n (factorial (- n 1)))))
(factorial 5) ; 5! = 120 を出力
```

### フィボナッチ数列
```
(define (fib n) 
  (if (< n 2) 
      n 
      (+ (fib (- n 1)) (fib (- n 2)))))
(fib 10) ; fib(10) = 55 を出力
```

これで、plspの基本的な機能といくつかの応用例を紹介しました。plspは拡張性がありますので、initial_env関数に追加の機能を追加することで、さらに多様なタスクを実現できます。


(define (fib n) (if (< n 2)  n  (+ (fib (- n 1)) (fib (- n 2)))))

(defunc (fib n) (if (< n 2)  n  (+ (fib (- n 1)) (fib (- n 2)))))


(define fib (lambda(n) (if (< n 2)  n  (+ (fib (- n 1)) (fib (- n 2))))))


(define (factorial n)  (if (= n 0) 1 (* n (factorial (- n 1)))))